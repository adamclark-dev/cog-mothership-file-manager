{% extends 'Message:Mothership:ControlPanel::_templates/left_sidebar' %}

{% block sidebar %}
	<a href="{{ url('ms.cp.file_manager.listing') }}" class="back" data-live>Back to file list</a>
{% endblock %}

{% block main %}
<hgroup class="title">
	<h1>{{ 'ms.file_manager.detail.labels.name'|trans }}: {{ file.name }}</h1>
</hgroup>

<div class="container-content file-manager extended">

<div class="container-details">

	<div class="file-attributes">
		<div class="file">
			<img src="{{ resize(file.file.getPublicUrl, 500, null) }}" alt="{{ file.altText }}" />
		</div>

		{{ form_start(form) }}
			{{ form_row(form.alt_text) }}
			{{ form_row(form.tags) }}
			<button name="update" type="submit" value="Submit" id="save-content" class="button small save">Save changes</button>
		{{ form_end(form) }}
	</div>
</div>	

<div class="widget-sidebar">
	
	<div class="widget">
	<h3>Additional Information</h3>
	<table>
		<tbody>
			<tr>
				<td>{{ 'ms.file_manager.detail.labels.type'|trans }}</td>
				<td>{{ file.typeID }}</td>
			</tr>
			<tr>
				<td>{{ 'ms.file_manager.detail.labels.size'|trans }}</td>
				<td>{{ file.fileSize }}</td>
			</tr>
			<tr>
				<td>{{ 'ms.file_manager.detail.labels.dimensions'|trans }}</td>
				<td>{{ file.dimensionX }} x {{ file.dimensionY }}</td>
			</tr>
			<tr>
				<td>{{ 'ms.file_manager.detail.labels.author'|trans }}</td>
				<td>{{ author.getName }} at {{ file.authorship.createdAt|date }}</td>
			</tr>

			{% if file.authorship.updatedAt != NULL %}

				<tr>
					<td>{{ 'ms.file_manager.detail.labels.edit-by'|trans }}</td>
					<td>{{ file.authorship.updatedBy }} at {{ file.authorship.updatedAt|date }}</td>
				</tr>

			{% endif %}
		</tbody>
	</table>
	</div>

</div>

	<form action="{{ url('ms.cp.file_manager.delete', {fileID: file.id}) }}" method="post">
		<input type="hidden" name="_method" value="DELETE">
		<button name="delete[delete]" value="delete" id="delete" type="submit" class="button small delete">{{ 'ms.file_manager.detail.buttons.delete'|trans }}</button>
	</form>

</div>

{% endblock %}